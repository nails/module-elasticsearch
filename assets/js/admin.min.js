!function(t){var e={};function s(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=e,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);var n=class{constructor(){$(".group-elasticsearch.stats").length&&(this.loadStats(),$(".js-action-reload-stats").on("click",()=>{this.loadStats()}))}loadStats(){$("#js-stats-loading").removeClass("hidden"),$("#js-stats-loaded").addClass("hidden"),$.get(window.SITE_URL+"api/elasticsearch/stats").done(t=>{$("#js-stats-loading").addClass("hidden"),$("#js-stats-loaded").removeClass("hidden"),this.processStats(t.data)}).fail(t=>{let e;try{e=JSON.parse(t.responseText)}catch(t){e={status:500,error:"An unknown error occurred."}}$("#js-stats-loading").attr("class","alert alert-danger").html(e.error)})}processStats(t){let e="warning",s="warning",n="The health of the cluster is unknown.";switch(t.status){case"green":e="success",s="check",n="["+t.cluster_name+"] Cluster is fully functional.";break;case"yellow":e="warning",s="exclamation-triangle",n="["+t.cluster_name+"] Cluster is fully functional but some data has not yet been replicated.";break;case"red":e="warning",s="exclamation-triangle",n="["+t.cluster_name+"] Cluster is missing data."}$("#js-cluster-health").attr("class","alert alert-"+e),$("#js-cluster-health .fa").attr("class","fa fa-lg fa-"+s),$("#js-cluster-health .msg").html(n),$(".js-stat-indices-count").html(t.indices.count),$(".js-stat-indices-docs-count").html(t.indices.docs.count),$(".js-stat-indices-segments-count").html(t.indices.segments.count);for(let e in t.nodes.count)t.nodes.count.hasOwnProperty(e)&&$(".js-stat-nodes-count-"+e).html(t.nodes.count[e])}};window.NAILS.ADMIN.registerPlugin("nails/module-elasticsearch","Stats",new n)}]);